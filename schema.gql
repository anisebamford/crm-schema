scalar DateTime

type Address {
  streetAddress: String!
  city: String!
  state: String!
  postalCode: String!
  country: String!
}

type ContactInfo {
  phone: String
  email: String
  mailingAddress: Address
}

type Person {
  givenName: String!
  surName: String!
  preferredName: String
  birthday: DateTime
  contactInfo: ContactInfo!
}

enum UserStatus {
  ACTIVE
  INACTIVE
}

type User {
  username: String!
  person: Person!
  role: String!
  status: UserStatus!
}

type Customer {
  id: String!
  person: Person!
}

enum ContactMedium {
  EMAIL
  PHONE
  CONVERSATION
  LETTER
}

union ContactIndividual = Customer | User

type Contact {
  id: String!
  medium: ContactMedium
  from: ContactIndividual
  to: ContactIndividual
  date: DateTime!
  subject: String!
  contents: String!
  survey: SurveyResponse
}

type SurveyQuestionString {
  question: String!
}

type SurveyQuestionInt {
  question: String!
}

type SurveyQuestionFloat {
  question: String!
}

type SurveyQuestionDate {
  question: Date!
}

type SurveyQuestionBoolean {
  question: String!
  trueValue: String
  falseValue: String
}

type SurveyQuestionOptions {
  question: String!
  options: String[]!
}

type SurveyQuestionRange {
  question: String!
  min: Float!
  max: Float
}

union SurveyQuestion = SurveyQuestionString | SurveyQuestionInt | SurveyQuestionFloat | SurveyQuestionDate | SurveyQuestionBoolean | SurveyQuestionOptions | SurveyQuestionRange

type SurveyAnswerString {
  question: SurveyQuestionString!
  answer: String!
}

type SurveyAnswerInt {
  question: SurveyQuestionInt!
  answer: Int!
}

type SurveyAnswerFloat {
  question: SurveyQuestionFloat!
  answer: Float!
}

type SurveyAnswerDate {
  question: SurveyQuestionDate!
  answer: DateTime!
}

type SurveyTemplate {
  id: String!
  questions: SurveyQuestion[]!
  author: User!
  name: String!
}

union CommentSubject = Comment | SurveyTemplate | Customer

type Comment {
  author: User!
  subject: CommentSubject!
  message: String!
  date: DateTime!
}

type Query {
  getCustomers(page: Int = 0, firstName: String, lastName: String): Customer[]
  getContacts(page: Int = 0, customerId: String, surveyTemplateId: String, username: String): Contact[]
}

type Mutation {
  addPerson(person: Person!): Boolean
  addUser(user: User!): Boolean
  setPassword(username: String!, password: String!): Boolean
  login(username: string!, password: string!): Boolean
  updatePerson(person: Person!): Boolean
  
}
